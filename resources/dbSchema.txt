CREATE TABLE IF NOT EXISTS patient (rowid INTEGER PRIMARY KEY, type INT NOT NULL, id VARCHAR (10) NOT NULL, birth VARCHAR (10) NOT NULL, sex BOOLEAN NOT NULL, fname VARCHAR (50) NOT NULL, mname VARCHAR (50), lname VARCHAR (50) NOT NULL, ekatte INT NOT NULL, phone VARCHAR (20));
CREATE TABLE IF NOT EXISTS numMed (rowid INTEGER NOT NULL PRIMARY KEY, name VARCHAR NOT NULL, form INT NOT NULL);
CREATE TABLE IF NOT EXISTS prescription (rowid INTEGER PRIMARY KEY NOT NULL, patient_rowid INTEGER REFERENCES patient (rowid) ON DELETE CASCADE ON UPDATE CASCADE, lrn VARCHAR (36) NOT NULL, nrn VARCHAR (12), date TEXT (10) NOT NULL, dispensation INT NOT NULL, repeats INT, supplements VARCHAR (2000), lpk VARCHAR(10) NOT NULL, rzi VARCHAR(10) NOT NULL, is_pregnant INTEGER, is_breastfeeding INTEGER);
CREATE TABLE IF NOT EXISTS medication (rowid INTEGER PRIMARY KEY NOT NULL, prescription_rowid INTEGER REFERENCES prescription (rowid) ON DELETE CASCADE ON UPDATE CASCADE NOT NULL, numMed_rowid INTEGER NOT NULL, is_form BOOLEAN NOT NULL, quantity INT NOT NULL, priority INT, substitution BOOLEAN, notes VARCHAR (2000), dosage TEXT, from_date TEXT, to_date TEXT);
CREATE TABLE IF NOT EXISTS doctor(lpk VARCHAR(10) NOT NULL, rzi VARCHAR(10) NOT NULL, fname VARCHAR(50) NOT NULL, lname VARCHAR(50) NOT NULL, phone VARCHAR NOT NULL, specialty INTEGER NOT NULL);
CREATE TABLE IF NOT EXISTS num_update(name VARCHAR NOT NULL UNIQUE, date TEXT NOT NULL);
PRAGMA user_version = 3;